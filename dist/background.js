function fetchBlockedUrlsAndStore(){chrome.storage.local.get(["token"],(function(e){const o=e.token;o?fetch("http://localhost:5000/getBlockedUrls",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}).then((e=>e.json())).then((e=>{"ok"===e.status&&e.blockedUrls&&chrome.storage.local.set({blockedUrls:e.blockedUrls})})).catch((e=>console.error("Error fetching blocked URLs:",e))):console.log("No token found in storage.")}))}chrome.runtime.onInstalled.addListener((()=>{fetchBlockedUrlsAndStore()})),chrome.runtime.onStartup.addListener((()=>{fetchBlockedUrlsAndStore()})),setInterval(fetchBlockedUrlsAndStore,3e4),chrome.tabs.onUpdated.addListener(((e,o,t)=>{"complete"===o.status&&t.url&&chrome.storage.local.get("blockedUrls",(o=>{(o.blockedUrls||[]).some((e=>t.url.includes(e)))&&chrome.tabs.update(e,{url:"./dashboard.html"})}))}));